<!-- Создание нового соревнования -->
{% extends "base.html" %}
{% load static %}
{% block body %}

<div class="container">
    <h1 class="text-center my-4">Создать новое соревнование</h1>
    <form class="create-tourney-form" method="POST">
        {% csrf_token %}
        <div class="form-group row">
            <label for="name" class="col-sm-3 col-form-label">Название соревнования:</label>
            <div class="col-sm-9">
                <input type="text" maxlength="100" class="form-control" id="name" name="name" required>
            </div>
        </div>
        <div class="form-group row">
            <label for="type" class="col-sm-3 col-form-label">Формат проведения:</label>
            <div class="col-sm-9">
                <select class="form-control" id="type" name="type" required>
                    <option value="SE">Олимпийская система</option>
                    <option value="DE">С двойным выбыванием</option>
                    <option value="RR">Круговой</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="teams" class="col-sm-3 col-form-label">Количество команд:</label>
            <div class="col-sm-9">
                <select class="form-control" id="teams" name="teams" required>
                    <option value="4">4</option>
                    <option value="8">8</option>
                    <option value="16">16</option>
                    <option value="32">32</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="sport" class="col-sm-3 col-form-label">Вид спорта:</label>
            <div class="col-sm-9">
                <select class="form-control" id="sport" name="sport" required>
                    <option value="football">Футбол</option>
                    <option value="tennis">Теннис</option>
                    <option value="boxing">Бокс</option>
                    <option value="badminton">Бадминтон</option>
                    <option value="volleyball">Волейбол</option>
                    <option value="basketball">Баскетбол</option>
                    <option value="handball">Гандбол</option>
                    <option value="esports">Киберспорт</option>
                    <option value="hockey">Хоккей</option>
                    <option value="rugby">Регби</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="start_date" class="col-sm-3 col-form-label">Дата начала:</label>
            <div class="col-sm-9">
                <input type="date" class="form-control" id="start_date" name="start_date" required>
            </div>
        </div>
        <div class="form-group row">
            <label for="end_date" class="col-sm-3 col-form-label">Дата окончания:</label>
            <div class="col-sm-9">
                <input type="date" class="form-control" id="end_date" name="end_date" required>
            </div>
        </div>
        <div class="accordion mt-3" id="accordionExample">
            <div class="accordion-item mb-3">
                <h2 class="accordion-header" id="headingMap">
                    <button class="accordion-button fw-bold custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMap" aria-expanded="false" aria-controls="collapseMap">
                        Выбор места проведения
                    </button>
                </h2>
                <div id="collapseMap" class="accordion-collapse collapse" aria-labelledby="headingMap" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <div class="mb-3">
                            <label for="display_address" class="form-label">Адрес:</label>
                            <input type="text" class="form-control" id="display_address" readonly>
                        </div>
                        <div id="map" style="width: 100%; height: 300px;"></div>
                        <input type="hidden" id="selectedLocation" name="selectedLocation">
                        <input type="hidden" id="hidden_address" name="address">
                        <input type="hidden" id="mapZoom" name="mapZoom">
                        <input type="hidden" id="mapCenter" name="mapCenter">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="desc" class="col-sm-3 col-form-label">Описание соревнования:</label>
            <div class="col-sm-9">
                <textarea class="form-control" id="desc" name="desc"></textarea>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <button type="submit" class="btn btn-primary mt-3">Создать соревнование</button>
            </div>
        </div>
    </form>
</div>

<script src="{% static 'js/update_teams.js' %}"></script>
<script src="https://api-maps.yandex.ru/2.1/?apikey=e9254d33-a4f4-4ee8-8834-97ba3587efe1&lang=ru_RU" type="text/javascript"></script>
<script src="{% static 'js/map.js' %}"></script>

{% endblock %}
